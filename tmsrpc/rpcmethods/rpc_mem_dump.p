{xmlrpc/xmlrpc_access.i}
DEFINE VARIABLE hBuffer    AS HANDLE     NO-UNDO.

DEF STREAM sout.
OUTPUT STREAM SOUT TO "/tmp/rpc_memdump.log" APPEND.
PUT UNFORMATTED SKIP
 "** Dump: " TODAY STRING(TIME,'HH:MM:SS') SKIP
 "** Dynamic temp-tables **" SKIP.
ASSIGN hBuffer = SESSION:FIRST-BUFFER.
DO WHILE VALID-HANDLE(hBuffer):
 IF VALID-HANDLE((hBuffer:TABLE-HANDLE)) THEN DO:
   PUT sTREAM SOUT hBuffer:TABLE-HANDLE:NAME FORMAT "x(20)" AT 2
       " ".
   &IF PROVERSION BEGINS "1" &THEN
     IF VALID-HANDLE(hBuffer:INSTANTIATING-PROCEDURE) THEN
       PUT STREAM sout hBuffer:INSTANTIATING-PROCEDURE:FILE-NAME FORMAT "x(40)".
   &ENDIF
   PUT stream sout SKIP.
 END.
 hBuffer = hBuffer:NEXT-SIBLING.
END.
OUTPUT STREAM SOUT CLOSE.
